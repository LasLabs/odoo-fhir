<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>  

        <!-- Patient Views -->                      
                        
<!--         <record id="hc_res_person_view_search_inherited" model="ir.ui.view">   -->
         <record id="hc_res_patient_view_search" model="ir.ui.view">             
            <field name="name">Patient Search</field>                   
            <field name="model">hc.res.patient</field>                  
<!--             <field name="inherit_id" ref="hc_res_person_view_search">                   
 -->            <field name="arch" type="xml">                  
                <search string="Patients">              
                    <field name="name"/>
                    <field name="birth_date" string="DOB"/>            
                </search>               
            </field>                    
        </record>                       
        
        <record id="hc_res_patient_view_tree" model="ir.ui.view">                       
            <field name="name">Patient Tree</field>                 
            <field name="model">hc.res.patient</field>                  
            <field name="arch" type="xml">                  
                <tree string="Patients">                
                    <field name="name"/>
                    <field name="birth_date" string="DOB"/>             
                </tree>             
            </field>                    
        </record>                       
        
        <record id="hc_res_patient_view_form" model="ir.ui.view">                                       
            <field name="name">Patient Form</field>                                
            <field name="model">hc.res.patient</field>                                  
            <field name="arch" type="xml">                                  
                <form string="Patient">                             
                    <sheet>                         
                        <field name="image" 
                            widget="image" 
                            class="oe_left oe_avatar" 
                            options="{'preview_image': 'image_medium', 'size': [90, 90]}"/>                        
                        <div class="oe_title">                     
                            <h1>                    
                                <field name="person_id" default_focus="1" placeholder="Name" context="{'is_patient': True}"/>
                                <!-- <field name="animal_name" default_focus="1" placeholder="Animal Name" context="{'is_patient': True}" attrs="{'invisible': [('type','!=','animal')]}"/> -->               
                            </h1>                   
                        </div>                      
                        <div name="buttons" class="oe_right oe_button_box"></div>                       
                        <group>                     
                            <group>
                                <field name="type"/>             
                                <field name="gender"/>              
                                <field name="birth_date"/>
                                <field name="birth_time"/>              
                                <field name="is_multiple_birth"/>               
                                <field name="multiple_birth_count" 
                                       attrs="{'invisible': [('is_multiple_birth','=',False)]}"/>               
                                <field name="multiple_birth_order" 
                                       attrs="{'invisible': [('is_multiple_birth','=',False)]}"/>
                                <field name="is_deceased"/>             
                                <field name="deceased_date" 
                                       attrs="{'invisible': [('is_deceased','=',False)]}"/>                 
                            </group>                    
                            <group>                   
                                <field name="race_ids" widget="many2many_tags" attrs="{'invisible': [('type','!=','human')]}"/>             
                                <field name="ethnicity_ids" widget="many2many_tags" attrs="{'invisible': [('type','!=','human')]}"/>
                                <field name="animal_species_id" attrs="{'invisible': [('type','!=','animal')], 'required': [('type','=','animal')]}"/>
                                <field name="animal_breed_id" attrs="{'invisible': [('type','!=','animal')]}"/>
                                <field name="animal_gender_status_id" attrs="{'invisible': [('type','!=','animal')]}"/>
                            </group>                    
                        </group>                        
                        <notebook colspan="4">                      
                        <!--     <page string="Names"/>  -->
                            <page string="Names">
                                <field name="name_ids" mode="tree">
                                    <tree>
                                        <field name="is_preferred" widget="upgrade_boolean"/>
                                        <field name="first_id"/>
                                        <field name="surname_id"/>
                                        <field name="given"/>
                                        <field name="family"/>
                                    </tree>
                                    <form>
                                        <sheet>
                                            <group>
                                                <field name="is_preferred"/>
                                                <field name="person_id"/>
                                            </group>
                                            <group>
                                                <field name="first_id" readonly="1"/>
                                                <field name="middle_ids"/>
                                                <field name="initial_ids"/>
                                                <field name="nickname_ids"/>
                                                <field name="mother_maiden_id"/>
                                                <field name="surname_id"/>
                                                <field name="family"/>
                                                <field name="given"/>
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                            </page>                  
                            <!-- <page string="Identifiers"/> -->                    
                            <page string="Identifiers">
                                <field name="identifier_ids" mode="tree">
                                    <tree>
                                        <field name="is_preferred"/>
                                        <field name="name"/>
                                        <field name="value"/>
                                    </tree>
                                    <form>
                                        <sheet>
                                            <div>
                                                <h1>
                                                    <field name="name" placeholder="Identifier"/>
                                                </h1>
                                            </div>
                                            <group col="4" colspan="4">
                                                <group>
                                                    <field name="value"/>
                                                    <field name="is_preferred"/>
                                                    <field name="is_active"/>
                                                </group>
                                                <group>
                                                    <field name="start_date" placeholder="Valid From"/>
                                                    <field name="end_date" placeholder="Valid To"/>
                                               </group>
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                            </page> 
                            <!-- <page string="Addresses"/> -->
                            <page string="Addresses" attrs="{'invisible': [('type','=','animal')]}">         
                                <field name="address_ids" mode="tree">
                                    <tree>      
                                        <field name="use" widget="radio"/>    
                                        <field name="is_preferred"/>    
                                        <field name="line1"/>   
                                        <field name="line2"/>   
                                        <field name="city_id"/>   
                                        <field name="postal_code_id"/>    
                                        <field name="country_id"/>
                                        <field name="start_date"/>    
                                        <field name="end_date"/>
                                    </tree>     
                                    <form>      
                                        <sheet>   
                                            <group col="4" colspan="4">  
                                                <field name="use" widget="radio" colspan="4"/>
                                                <field name="address_id" class="oe_no_button"/>
                                                <field name="is_preferred"/>
                                                <field name="is_active"/>
                                                <field name="start_date" placeholder="Valid From"/>
                                                <field name="end_date" placeholder="Valid To"/>
                                            </group>  
                                        </sheet>    
                                    </form>     
                                </field>        
                            </page>                                               
                            <page string="Telecom" attrs="{'invisible': [('type','=','animal')]}">
                                <field name="telecom_ids" mode="tree">
                                    <tree>
                                        <field name="is_preferred"/>
                                        <field name="telecom_id"/>
                                        <field name="use"/>
                                    </tree>
                                    <form>
                                        <sheet>
                                            <group>
                                                <group>
                                                    <field name="telecom_id"/>
                                                    <field name="use"/>
                                                </group>
                                                <group>
                                                    <field name="is_preferred"/>
                                                    <field name="is_active"/>
                                                    <field name="start_date" placeholder="Valid From"/>
                                                    <field name="end_date" placeholder="Valid To"/>
                                                </group>
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                            </page>                    
                            <!-- <page string="Photos"/> -->
                            <page string="Photos">
                                <field name="photo_ids" mode="tree">
                                    <tree>
                                        <field name="name" string="Photo Name"/>
                                    </tree>
                                    <form>
                                        <sheet>
                                            <group>
                                                <group>
                                                    <field name="name" string="Photo Name"/>
                                                    <field name="datas"/>
                                                </group>
                                                <group>
                                                    <field name="is_preferred"/>
                                                    <field name="is_active"/>
                                                    <field name="start_date" placeholder="Valid From"/>
                                                    <field name="end_date" placeholder="Valid To"/>
                                                </group>
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                            </page>
                            <page string="General Practitioners">
                                 <field name="general_practitioner_ids" mode="tree">
                                    <tree>
                                        <field name="general_practitioner_name"/>
                                        <field name="general_practitioner_type"/>
                                    </tree>
                                    <form>
                                        <sheet>
                                            <group>
                                                <group>
                                                    <field name="general_practitioner_type"/>
                                                    <field name="general_practitioner_organization_id" attrs="{'invisible': [('general_practitioner_type','!=','organization')]}"/>
                                                    <field name="general_practitioner_practitioner_id" attrs="{'invisible': [('general_practitioner_type','!=','practitioner')]}"/>
                                                </group>
                                                <group>
                                                </group>
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                            </page>
                            <page string="Links" attrs="{'invisible': [('type','=','animal')]}"/>
                            <!-- <page string="Links">
                                 <field name="links_ids" mode="tree">
                                    <tree>
                                        <field name="other_name"/>
                                        <field name="other_type"/>
                                        <field name="type"/>
                                    </tree>
                                    <form>
                                        <sheet>
                                            <group>
                                                <group>
                                                    <field name="other_type"/>
                                                    <field name="other_patient_id" attrs="{'invisible': [('other_type','!=','patient')]}"/>
                                                    <field name="other_related_person_id" attrs="{'invisible': [('other_type','!=','related_person')]}"/>
                                                </group>
                                                <group>
                                                    <field name="type"/>
                                                </group>
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                            </page> -->
                            <!-- <page string="Contacts"/> -->
                            <page string="Contacts">
                                <field name="contact_ids" mode="tree">
                                    <tree>
                                        <field name="name_id"/>
                                        <field name="organization_id"/>
                                        <field name="start_date" string="Valid From"/>
                                        <field name="end_date" string="Valid To"/>
                                    </tree>
                                    <form>
                                        <sheet>                    
                                            <h1>                    
                                                <field name="name_id" default_focus="1" placeholder="Name"/>              
                                            </h1>                   
                                            <group>
                                                <group>
                                                    <field name="gender"/>
                                                    <field name="relationship_ids"/>
                                                    <field name="start_date" placeholder="Valid From"/>
                                                    <field name="end_date" placeholder="Valid To"/>
                                                </group>
                                                <group>
                                                    <field name="address_id"/>
                                                    <field name="organization_id"/>
                                                </group>
                                            </group>
                                            <notebook>
                                                <page string="Telecom">                    
                                                    <field name="telecom_ids" mode="tree">
                                                        <tree>
                                                            <field name="is_preferred" widget="upgrade_boolean"/>
                                                            <field name="telecom_id"/>
                                                            <field name="use"/>
                                                        </tree>
                                                        <form>
                                                            <sheet>
                                                                <group>
                                                                    <group>
                                                                        <field name="telecom_id"/>
                                                                        <field name="use"/>
                                                                    </group>
                                                                    <group>
                                                                        <field name="is_preferred"/>
                                                                        <field name="is_active"/>
                                                                        <field name="start_date" placeholder="Valid From"/>
                                                                        <field name="end_date" placeholder="Valid To"/>
                                                                    </group>
                                                                </group>
                                                            </sheet>
                                                        </form>
                                                    </field>               
                                                </page>    
                                            </notebook>
                                        </sheet>
                                    </form>
                                </field>
                            </page>                   
                            <page string="Languages" attrs="{'invisible': [('type','=','animal')]}">
                                <field name="communication_ids" mode="tree">
                                    <tree>
                                        <field name="is_preferred" widget="upgrade_boolean"/>
                                        <field name="language_id"/>
<!--                                         <field name="start_date" string="Valid From"/>
                                        <field name="end_date" string="Valid To"/> -->
                                    </tree>
                                    <form>
                                        <sheet>
                                            <div class="oe_title oe_left">                      
                                                <h1>                    
                                                    <field name="language_id" default_focus="1" placeholder="Language"/>              
                                                </h1>                   
                                            </div> 
                                            <group>
                                                <group>
                                                    <field name="is_preferred"/>
<!--                                                     <field name="is_active"/>
                                                    <field name="start_date" placeholder="Valid From"/>
                                                    <field name="end_date" placeholder="Valid To"/> -->
                                                </group>
                                                <group>
                                                </group>
                                            </group>
                                            <notebook colspan="4">                      
                                                <page string="Proficiency">                    
                                                    <field name="proficiency_ids" mode="tree">              
                                                        <tree>            
                                                            <field name="language_proficiency_id"/>     
                                                            <field name="language_skill_id"/>
                                                            <field name="start_date" string="Valid From"/>
                                                            <field name="end_date" string="Valid To"/>       
                                                        </tree>         
                                                        <form>          
                                                            <sheet>
                                                                <div class="oe_title oe_left oe_inline">                      
                                                                    <h1>                    
                                                                        <field name="communication_id" readonly="1"/>
                                                                        <!-- <field name="communication_id" readonly="1" nolabel="1" class="oe_inline"/> -->              
                                                                    </h1>                   
                                                                </div>     
                                                                <group>
                                                                    <field name="language_proficiency_id" default_focus="1"/>
                                                                    <field name="language_skill_id"/>
                                                                    <field name="start_date" placeholder="Valid From"/>
                                                                    <field name="end_date" placeholder="Valid To"/>
                                                                </group>    
                                                            </sheet>        
                                                        </form>         
                                                    </field>                
                                                </page>
                                                <page string="Marital History" attrs="{'invisible': [('type','=','animal')]}"/>
                                                <!-- page string="Marital History">
                                                    <field name="marital_history_ids" mode="tree">
                                                        <tree>
                                                            <field name="marital_status_id"/>
                                                            <field name="partner_id"/>
                                                            <field name="start_date"/>
                                                            <field name="end_date"/>
                                                        </tree> 
                                                        <form>
                                                            <sheet>
                                                                <group>
                                                                    <group>
                                                                        <field name="marital_status_id"/>
                                                                        <field name="start_date" placeholder="Valid From"/>
                                                                        <field name="end_date" placeholder="Valid To"/>
                                                                    </group>
                                                                    <group>
                                                                        <field name="partner_id"/>
                                                                    </group>
                                                                </group>
                                                            </sheet>
                                                        </form>
                                                    </field>
                                                </page> -->                 
                                            </notebook>
                                        </sheet>
                                    </form>
                                </field>
                            </page>                   
                        </notebook>                     
                    </sheet>                            
                </form>                             
            </field>                                    
        </record>                                       
                      
                                
        <!-- Patient Action and Menu -->                        
                                
        <record id="hc_res_patient_action" model="ir.actions.act_window">                       
            <field name="name">HC Patients</field>                  
            <field name="type">ir.actions.act_window</field>                    
            <field name="res_model">hc.res.patient</field>
            <field name="context">{'is_patient':True}</field>                           
            <field name="view_type">form</field>                    
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="hc_patient.menu_pat" 
                  name="Patients" 
                  parent="hc_base.menu_indiv" 
                  action="hc_res_patient_action" 
                  groups="hc_base.group_hc_base_manager" 
                  sequence="10"/>
    
        <!-- Patient Language Views -->

        <record id="hc_patient_language_view_tree" model="ir.ui.view">          
            <field name="name">Patient Language Tree</field>        
            <field name="model">hc.patient.communication</field>     
            <field name="arch" type="xml">      
                <tree string="Patient Languages">   
                    <field name="patient_id"/>
                    <field name="language_id"/>
                    <field name="is_preferred" widget="upgrade_boolean"/>
                </tree> 
            </field>        
        </record>

        <record id="hc_patient_language_view_form" model="ir.ui.view">                                      
            <field name="name">Patient Language Form</field>                                    
            <field name="model">hc.patient.communication</field>                                 
            <field name="arch" type="xml">                                  
                <form string="Patient Language">                                
                    <sheet>                         
                        <div class="oe_title oe_left">                      
                            <h1>                    
                                <field name="patient_id" default_focus="1" placeholder="Patient"/>              
                            </h1>                   
                        </div>                      
                        <group>                     
                            <group>                 
                                <field name="language_id"/>             
                            </group>                    
                            <group>                 
                            </group>                    
                        </group>                        
                        <notebook colspan="4">                      
                            <page string="Proficiency">                    
                                <field name="proficiency_ids" mode="tree">              
                                    <tree>          
                                        <field name="communication_id"/>     
                                        <field name="language_proficiency_id"/>     
                                        <field name="language_skill_id"/>       
                                    </tree>         
                                    <form>          
                                        <sheet>     
                                            <group> 
                                                <field name="communication_id"/>
                                                <field name="language_proficiency_id"/>
                                                <field name="language_skill_id"/>
                                            </group>    
                                        </sheet>        
                                    </form>         
                                </field>                
                            </page>                 
                        </notebook>                     
                    </sheet>                            
                </form>                             
            </field>                                    
        </record>                                       

        <!-- Value Set Views -->                             
                                        
        <menuitem id="hc_patient.menu_pat_conf" 
                  name="Configuration" 
                  parent="hc_patient.menu_pat" 
                  groups="hc_base.group_hc_base_manager" 
                  sequence="10"/>

        <act_window id="hc_vs_animal_species_action"                                
                    name="HC Animal Species"                    
                    res_model="hc.vs.animal.species"                    
                    view_mode="tree,form"                   
                    domain=""                   
                    context=""                  
                    limit=""/>                  

        <menuitem id="hc_patient.menu_pat_species" 
                  name="Animal Species" 
                  parent="hc_patient.menu_pat_conf" 
                  action="hc_vs_animal_species_action" 
                  groups="hc_base.group_hc_base_manager" 
                  sequence="10"/>
                  
        <act_window id="hc_vs_animal_breed_action"          
                    name="HC Animal Breeds"
                    res_model="hc.vs.animal.breed"
                    view_mode="tree,form"
                    domain=""
                    context=""
                    limit=""/>

        <menuitem id="hc_practitioner.menu_pat_breed" 
                  name="Animal Breeds" 
                  parent="hc_patient.menu_pat_conf" 
                  action="hc_vs_animal_breed_action" 
                  groups="hc_base.group_hc_base_manager" 
                  sequence="20"/>

        <!-- Animal Species Views -->                               
                                        
        <record id="hc_vs_animal_species_view_search" model="ir.ui.view">                               
            <field name="name">Animal Species Search</field>                            
            <field name="model">hc.vs.animal.species</field>                            
<!--             <field name="inherit_id" ref="hc_value_set_contains_view_search"/>  -->                         
            <field name="arch" type="xml">                          
                <search string="Animal Species">                        
                    <field name="name"/>                    
                    <field name="code"/>                    
                    <field name="definition"/>
                    <field name="contains_id"/>                    
                    <group>                 
                        <filter name="group_by_parent" string="parent" context="{'group_by': 'contains_id'}"/>             
                    </group>                    
                </search>                       
            </field>                            
        </record>                               
                                        
        <record id="hc_vs_animal_species_view_tree" model="ir.ui.view">                             
            <field name="name">Animal Species Tree</field>                          
            <field name="model">hc.vs.animal.species</field>                            
<!--             <field name="inherit_id" ref="hc_value_set_contains_view_tree"/>   -->                          
            <field name="arch" type="xml">                          
                <tree string="Animal Species" default_order="name, code">                      
                    <field name="name"/>                    
                    <field name="code"/>                    
                    <field name="definition"/>                  
                    <field name="source_id" invisible="0"/>                 
                </tree>                     
            </field>                            
        </record>                               
                                        
        <record id="hc_vs_animal_species_view_form" model="ir.ui.view">                             
            <field name="name">Animal Species Form</field>                          
            <field name="model">hc.vs.animal.species</field>                            
            <field name="arch" type="xml">                          
                <form string="Animal Species">                     
                    <sheet>                 
                        <h1>                
                            <field name="name" default_focus="1" placeholder="Name (e.g., United States)"/>         
                        </h1>               
                        <field name="code" placeholder="Code (e.g., US)"/>              
                        <field name="definition" placeholder="Definition"/>             
                        <field name="comments" placeholder="Comments"/>             
                        <group>             
                            <group>         
                                <field name="contains_id" invisible="0"/>       
                                <field name="is_abstract" widget="upgrade_boolean"/>        
                                <field name="level" placeholder="An integer (e.g., 1, 2)"/>     
                                <field name="level_name" placeholder="Name of level (e.g., Species)"/>      
                                <field name="version" placeholder="e.g., v2.5"/>        
                            </group>            
                            <group>         
                                <field name="source_id" placeholder="e.g., U.S. Census Bureau"/>        
                                <field name="system" widget="url" placeholder="e.g., www.census.gov/"/>     
                            </group>            
                        </group>                
                    </sheet>                    
                </form>                     
            </field>                            
        </record>                               

        <!-- Animal Breed Views -->         
            
        <record id="hc_vs_animal_breed_view_search" model="ir.ui.view">             
            <field name="name">Animal Breed Search</field>          
            <field name="model">hc.vs.animal.breed</field>          
<!--             <field name="inherit_id" ref="hc_value_set_contains_view_search"/>     -->      
            <field name="arch" type="xml">          
                <search string="Animal Breeds">     
                    <field name="name"/>    
                    <field name="code"/>    
                    <field name="definition"/>
                    <field name="hierarchy_id"/>
                    <field name="contains_id"/>  
                    <group> 
                        <filter name="group_by_hierarchy" string="hierarchy" context="{'group_by': 'hierarchy_id'}" />
                        <filter name="group_by_parent" string="parent" context="{'group_by': 'contains_id'}" />
                    </group>    
                </search>       
            </field>            
        </record>               

        <record id="hc_vs_animal_breed_view_tree" model="ir.ui.view">           
            <field name="name">Animal Breed Tree</field>        
            <field name="model">hc.vs.animal.breed</field>      
<!--             <field name="inherit_id" ref="hc_value_set_contains_view_tree"/>        --> 
            <field name="arch" type="xml">      
                <tree string="Animal Breeds" default_order="name, code">    
                    <field name="name"/>
                    <field name="code"/>
                    <field name="definition"/>
                    <field name="hierarchy_id"/>
                    <field name="contains_id"/>
                    <field name="source_id" invisible="0"/>
                </tree> 
            </field>        
        </record>           

        <record id="hc_vs_animal_breed_view_form" model="ir.ui.view">                       
            <field name="name">Animal Breed Form</field>                    
            <field name="model">hc.vs.animal.breed</field>                  
            <field name="arch" type="xml">                  
                <form string="Animal Breeds" >              
                    <sheet>         
                        <h1>        
                            <field name="name" default_focus="1" placeholder="Name (e.g., United States)"/> 
                        </h1>       
                        <field name="code" placeholder="Code (e.g., US)"/>      
                        <field name="definition" placeholder="Definition"/>   
                        <group>     
                            <group> 
                                <field name="hierarchy_id" placeholder="e.g., dog"/>
                                <field name="contains_id"/>
                            </group>    
                            <group> 
                                <field name="source_id" placeholder="e.g., U.S. Census Bureau"/>
                                <field name="system" widget="url" placeholder="e.g., www.census.gov/"/>
                            </group>    
                        </group>        
                    </sheet>            
                </form>             
            </field>                    
        </record>                       



        <!-- External Reference View -->

<!--         <record id="base.view_partner_form_inherited_patient" model="ir.ui.view">     
          <field name="name">res.partner.form</field>   
          <field name="model">res.partner</field>   
          <field name="inherit_id" ref="base.view_partner_form"/>   
          <field name="arch" type="xml">
              <field name="parent_id" position="after">
                <label for="is_patient" string="HC Patient"/>  
                <field name="is_patient"/>
              </field>
          </field>
        </record> -->

        <record id="hc_res_person_view_form_inherited_patient" model="ir.ui.view">     
          <field name="name">Person Form</field>   
          <field name="model">hc.res.person</field>   
          <field name="inherit_id" ref="hc_person.hc_res_person_view_form"/>   
          <field name="arch" type="xml">
              <field name="gender" position="before"> 
                <field name="is_patient"/>
              </field>
          </field>
        </record>

        <record id="hc_res_person_view_form_inherited_patient" model="ir.ui.view">          
            <field name="name">Person Form</field>      
            <field name="model">hc.res.person</field>       
            <field name="inherit_id" ref="hc_person.hc_res_person_view_form"/>      
            <field name="arch" type="xml">      
                <field name="target_type" position="after"> 
                    <field name="target_patient_id" attrs="{'invisible': [('target_type','!=','patient')]}"/>
                </field>    
            </field>        
        </record>           

        <record id="hc_annotation_view_form_inherited_patient" model="ir.ui.view">     
            <field name="name">Annotation Form</field>   
            <field name="model">hc.annotation</field>   
            <field name="inherit_id" ref="hc_base.hc_annotation_view_form"/>   
            <field name="arch" type="xml">
                <field name="author_type" position="after">
                    <field name="author_patient_id" attrs="{'invisible': [('author_type','!=','patient')]}"/>  
                </field>
            </field>
        </record>

    </data>
</openerp>